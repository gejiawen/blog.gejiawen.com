

<!DOCTYPE html>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
    
    <meta name="author" content="gejiawen">
    
    <meta name="description" content="前后端协作的三板斧，

第一斧：前后端协作之分离
第二斧：前后端协作之约定
第三斧：前后端协作之集成


前言随着Web开发技术的更新换代，特别是Web2.0、NodeJS等平台或者概念的活跃，使得web开发越来越多样化，越来越灵活。最典型的一个特性就是，针对不同的业务场景，针对不同的需求、平台等内">
    
    

    
    <link rel="alternative" href="atom.xml" title="蛋糕仙人" type="application/atom+xml">
    
    
    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>前后端协作之分离 | 蛋糕仙人 · 技术人需要危机感</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">

    <!-- Javascript -->
    <script src="/js/jquery-2.1.0.min.js"></script>
    <script src="/js/jquery.backstretch.min.js"></script>
    <script src="/bootstrap/js/bootstrap.min.js"></script>
    <script src="/js/headroom.min.js"></script>
    <script src="/js/jquery.headroom.min.js"></script>
    <script src="/js/common.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    
    <meta name="baidu-site-verification" content="SzJ3MGdmeo">


    <meta name="360-site-verification" content="afe5dc96bbb8d111b618f78493b95bb8">


    <!--<meta name="baidu-site-verification" content="SzJ3MGdmeo" />-->
    <!--<meta name="360-site-verification" content="afe5dc96bbb8d111b618f78493b95bb8" />-->

<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="banner">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="http://blog.gejiawen.com" title="蛋糕仙人">蛋糕仙人</a>
            </div>

            <div role="navigation" class="collapse navbar-collapse bs-navbar-collapse">
                
                <ul class="nav navbar-nav pull-right">
                    <li>
                        <a class="max-width max-w300" title="技术人需要危机感" href="/feelings/">技术人需要危机感</a>
                    </li>
                </ul>
                

                <ul class="nav navbar-nav">
                    
                    <li id="nav-index">
                        <a href="/">首页</a>
                    </li>
                    
                    <li id="nav-archives">
                        <a href="/archives/">归档</a>
                    </li>
                    
                    <li id="nav-categories">
                        <a href="/categories/">分类</a>
                    </li>
                    
                    <li id="nav-tags">
                        <a href="/tags/">标签</a>
                    </li>
                    
                    <li id="nav-pick">
                        <a href="http://book.gejiawen.com/fucking-days-to-be-a-coder/">拾遗</a>
                    </li>
                    
                    <li id="nav-about">
                        <a href="/about/">关于</a>
                    </li>
                    

                    <li id="nav-github"><a href="https://github.com/gejiawen" target="_blank">GitHub</a></li>
                    <!--<li id="nav-rss"><a href="/atom.xml" target="_blank">Rss</a></li>-->
                    <li id="nav-search"><input type="text" id="search" placeholder="search"></li>
                </ul>
            </div>
        </div>
    </nav>

    <script>
    var bgRoot = "http://gejiawen-blog.oss-cn-shanghai.aliyuncs.com/bg/";
    var bgLength = "75";
    var bgRandom = true;
    var curImage = "74.jpg";

    /*
    $(function() {
        // page-id...
        var pageId = "2017/03/02/cooperation-of-front-and-back-001-how-to-isolate/";
        pageId = pageId.substr(0, pageId.indexOf("/"));
        if(pageId === "") pageId = "index";

        $("#nav-" + pageId).addClass("active");
    });
    */
    </script>
</body></html>
    <article class="post container">
    <div class="well post-body first-post last-post">
        <h1>前后端协作之分离</h1>

        <div class="time-info">
            
<span class="article-tags">
    
    Tags: <a href="/tags/前后端协作/">前后端协作</a>&nbsp;
</span>



<span class="article-categories">
    Category:
    <a class="article-category-link" href="/categories/技术思考/">技术思考</a>
</span>


        </div>
        <div class="time-info">
            发表: <time datetime="2017-03-02T09:14:46.000Z" itemprop="datePublished">2017-03-02 17:14:46</time>
            
        </div>

        <div class="post-body-inner">
            
                <div id="toc" class="toc-article well">
                    <strong class="toc-title">大纲</strong>
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#前言"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#耦合与分离"><span class="toc-number">2.</span> <span class="toc-text">耦合与分离</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#探讨"><span class="toc-number">3.</span> <span class="toc-text">探讨</span></a></li></ol>
                </div>
            

            <p>前后端协作的三板斧，</p>
<ul>
<li>第一斧：<a href="http://blog.gejiawen.com/2017/03/02/cooperation-of-front-and-back-001-how-to-isolate/">前后端协作之分离</a></li>
<li>第二斧：<a href="http://blog.gejiawen.com/2017/03/02/cooperation-of-front-and-back-002-make-the-appoint/">前后端协作之约定</a></li>
<li>第三斧：<a href="http://blog.gejiawen.com/2017/03/02/cooperation-of-front-and-back-003-go-to-integrate/">前后端协作之集成</a></li>
</ul>
<hr>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>随着Web开发技术的更新换代，特别是Web2.0、NodeJS等平台或者概念的活跃，使得web开发越来越多样化，越来越灵活。最典型的一个特性就是，针对不同的业务场景，针对不同的需求、平台等内容，我们使用的技术栈会有所侧重，不再是以前的那种一杆枪打天下了。</p>
<p>从大的层面上来说，web开发可以分为面向浏览器的前端，以及面向服务端的后端。我个人一般习惯的将前端称之为浏览器端，主要是为了规避一些信息同步上的问题，因为对一些长期从事C、C++之类语言的底层开发的人员来说，除了底层，其他的都是前端。</p>
<p>web开发这个技术方向发展了这么久，依然摆脱不了下面这种原型，</p>
<p><img src="//images0.gejiawen.com/posts/cooperation-of-front-and-back/001.png" alt=""></p>
<p>简单来说，就是</p>
<ol>
<li>client端向server端发送request</li>
<li>server处理来自client的请求，并返回response</li>
</ol>
<p>原型非常简单，但是这仅仅是最基本的原理，其中有非常多的门道，实非一篇文章所能言尽。</p>
<h1 id="耦合与分离"><a href="#耦合与分离" class="headerlink" title="耦合与分离"></a>耦合与分离</h1><p>我刚毕业那会儿，大概6，7年之前吧，因为各种各样的原因，Java语言开始变得非常流行，当时在学校里基本上可以随处可见各种培训机构，广告吹得一个比一个厉害。那时候用Java来做web开发，基本上都是J2EE，一个人写servlet，同时也写jsp，最后往tomcat上一丢就完事了。</p>
<p>这种模型是典型的耦合式开发。所谓的耦合式开发有两个典型特点，一是同一种角色从前到后基本都写；二是基本上都是服务端模板、服务端渲染。</p>
<p>这种模式有如下几个非常明显的缺陷，</p>
<ol>
<li>同一个角色干了多个事情，要经常切换思维场景，同是对开发者也提出了更高的要求。</li>
<li>不具备良好的拓展性和可维护性。</li>
<li>往往会将一些新思想和新技术拒之门外，难以尝试。</li>
</ol>
<p>于是，人们便想出了一个法子，就是让面向浏览器的开发者和面向服务端的开发者分开。前后分离思想从此一发不可收拾，许许多多的前辈们在这条路上贡献了自己的思考以及解决方案。</p>
<p>我个人认为前后端分离的一个核心思想是：<strong>让合适的人做合适的事</strong>，并在此基础上持续探索在不同业务场景下的最优开发模式。</p>
<p>试想一下，假如现在我们要做一个项目，那么这个项目可能会有两个工程，一个前端工程，一个后端工程。需求确认完毕之后，前端开发者和后端开发者在一定的约定基础上并行开发，待开发完毕之后，再通过某一种方式进行集成即可。理想是美好的，但是现实却不会那么顺利，这中间有着许多的坑等着我们去踩。</p>
<p>在<a href="http://blog.gejiawen.com/2016/11/10/discovery-and-thought-on-web-development/">《Web开发模式的探索与思考》</a>这篇文章中，我也有提到过，目前有两种主流的前后分离思路，一种是完全的前后分离模式，一种是中间层模式。这两种模式我个人觉得没有绝对的好与坏，两者都有各自切合的场景。</p>
<p>不过我看过很多的前后分离开发的网站，说实话体验不是很好。我个人感觉可能是网站的开发者走入了一个误区，</p>
<ul>
<li>其一，在不合适SPA的场景下强拼硬凑SPA模式，使得前端过重。</li>
<li>其二，前后端之间的数据交换过度依赖ajax。在一些数据模块及交互复杂的页面上，使得ajax数据交互成为瓶颈。</li>
<li>其三，前端的技术栈是那种完全的前后分离模式，有点一条道走到黑的感觉。网站开发者们可能并没有考虑不同业务场景下对不同开发模式和技术栈的要求。</li>
<li>其四，可能是因为前端过重的原因，导致有一些非常明显的糟糕的操作体验，比如加载性能，视觉等待，白屏过长等等。</li>
</ul>
<p>说实话，在两三年之前，我也是“完全前后分离”这一模式的铁杆粉，当时用AngularJS、ReactJS之类的MV*框架，觉得基本上没有什么事在前端范畴之内是解决不了，后端只要有ajax接口，只要给我前端提供数据就行了。我相信很多前端开发者现在依然有这种想法，而且可能还会觉得这么想是理所当然。</p>
<p>如果开发者把自己的眼界放远一点，不局限在前端这一范畴的话，你会发现除了前端这薄薄的一层之外，web开发中还有非常多的内容值得推敲的，只有站在更高的基点上，才能对整个web开发的生命周期做整体把握。</p>
<h1 id="探讨"><a href="#探讨" class="headerlink" title="探讨"></a>探讨</h1><p>这里我先抛出一个问题，然后会在最后一篇文章中分析在两种主流的前后分离模式下如何做，以及它们的优劣势，最后会探讨一下应该怎么做。</p>
<p>问题是这样的，假设我需要做一个网站，这个网站会有类似企业首页那种偏资讯类的页面，然后会有用户体系。用户登录后，会有一个管理中心的中控系统，这个管理中心中会按照功能划分出好几个功能模块。管理中心的页面会给用户提供较多的交互操作。然后还有两个额外需求，一个是各个功能模块的页面之间会有数据传输；另一个是各个页面之间的跳转能够比较平滑，不要产生难以容忍的白屏。</p>


            <div class="post-info">
    <p class="eof">- EOF -</p>
    <p class="copyright">All rights reserved <a href="http://blog.gejiawen.com/about/">@gejiawen</a>.</p>
    <p class="link">本文链接：<a href="http://blog.gejiawen.com/2017/03/02/cooperation-of-front-and-back-001-how-to-isolate/">http://blog.gejiawen.com/2017/03/02/cooperation-of-front-and-back-001-how-to-isolate/</a></p>

    <div class="share">
    分享本页：
    
        <div class="bdsharebuttonbox"><a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信">微信</a><a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间">QQ空间</a><a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">新浪微博</a><a href="#" class="bds_tqq" data-cmd="tqq" title="分享到腾讯微博">腾讯微博</a><a href="#" class="bds_more" data-cmd="more"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"1","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>

    
    
</div>

</div>


            



        </div>
    </div>
</article>

    <footer id="footer">
        <div id="bottom-tip">
            蛋糕仙人 —— <small>技术人需要危机感</small>
        </div>
        <small>该博客由 <a href="https://hexo.io/" target="_blank">Hexo</a> 强力驱动，搭载 <a href="https://github.com/gejiawen/hexadillax2" target="_blank">Hexadillax2</a> 主题</small><br>
        <!--<small>如果你访问github速度过慢，可移步本站的备份站点<a href="http://gejiawen.gitcafe.io">gejiawen.gitcafe.io</a></small><br />-->
        <small>&copy; 2018 <a href="http://blog.gejiawen.com" target="_blank">gejiawen</a>&nbsp;<a href="http://www.miitbeian.gov.cn/" target="_blank">皖ICP备16008778号</a></small>
    </footer>
    
    <script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e4dd778a6204eb51e4f25460e37481ad";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
</script>


    <script type="text/javascript" src="http://tajs.qq.com/stats?sId=58628762" charset="UTF-8"></script>


    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-51347904-1', 'auto');
  ga('send', 'pageview');
</script>




